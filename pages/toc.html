<?xml version="1.0" encoding="UTF-8"?>
<div data-template="templates:surround" data-template-with="templates/datatable.html" data-template-at="datatable">

    <div class="card">
        <div class="card-header" style="text-align:center;">
            <h1>Table of Content<br/>
            </h1>
        </div>
        <div class="card-body">
            <table id="myTable" class="table table-striped table-condensed table-hover">
                
                <!--<tr data-template="app:toc"/>-->
            </table>
        </div>
    </div>
    <script>
       $('#myTable').DataTable({
            "processing": true,
            "serverSide": true,
            "ajax": "http://localhost:8080/exist/restxq/schnitzler-tagebuch/dt/editions/json",
            "columns": [
                {
                    "data": "title",
                    "title": "Titel",
                    "render": function ( data, type, row, meta ) {
                    return '<a href="'+data.href+'">'+data.textvalue+'</a>';
                     }
                },
                { 
                    "data": "text",
                    "title": "Incipit"
                },
            ],
            "keepConditions": true,
            "dom": 'Bfrtip',
            "buttons": [
                "copy", "excel", "pdf"
            ]
        });
    </script>
</div>